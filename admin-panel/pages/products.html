<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ürünler - Huglu Admin</title>
    <link rel="stylesheet" href="../style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <img src="../../assets/logo.jpg" alt="Logo" style="width:28px;height:28px;object-fit:cover;border-radius:6px;">
            <span>Huglu Admin</span>
        </div>
        <nav class="nav-menu">
            <a href="../#dashboard" class="nav-item" data-external="true"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a>
            <a href="../#products" class="nav-item active" data-external="true"><i class="fas fa-box"></i><span>Ürünler</span></a>
            <a href="../#campaigns" class="nav-item" data-external="true"><i class="fas fa-bullhorn"></i><span>Kampanyalar</span></a>
            <a href="../#chatbot" class="nav-item" data-external="true"><i class="fas fa-robot"></i><span>Chatbot</span></a>
            
        </nav>
    </div>

    <div class="main-content">
        <header class="header">
            <div class="header-left">
                <button class="sidebar-toggle" id="sidebarToggle"><i class="fas fa-bars"></i></button>
                <h1 id="pageTitle">Ürün Yönetimi</h1>
            </div>
            <div class="header-actions">
                <button class="btn-primary" onclick="openCreateProductModal()"><i class="fas fa-plus"></i> Yeni Ürün</button>
                <button class="btn-secondary" onclick="refreshProducts()"><i class="fas fa-sync"></i> Yenile</button>
                <button class="btn-primary" onclick="triggerProductSync()"><i class="fas fa-sync-alt"></i> XML Sync</button>
                <button class="btn-secondary" onclick="openModal('syncLogModal')"><i class="fas fa-list"></i> Son Senkronlar</button>
            </div>
        </header>

        <div class="content-section" id="products-section">
            <div class="table-container" style="padding:16px; margin-bottom:16px;">
                <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
                    <input id="productSearch" class="btn-secondary" type="text" placeholder="Ürün adı / marka" style="min-width:220px">
                    <input id="productBrand" class="btn-secondary" type="text" placeholder="Marka" style="min-width:150px">
                    <input id="minPrice" class="btn-secondary" type="number" step="0.01" placeholder="Min ₺" style="width:120px">
                    <input id="maxPrice" class="btn-secondary" type="number" step="0.01" placeholder="Max ₺" style="width:120px">
                    <select id="stockStatus" class="btn-secondary">
                        <option value="">Stok (Tümü)</option>
                        <option value="out">Stok Yok</option>
                        <option value="low">Düşük Stok (&lt;10)</option>
                        <option value="medium">Orta Stok</option>
                        <option value="high">Yüksek Stok</option>
                    </select>
                    <select id="hasVariations" class="btn-secondary">
                        <option value="">Varyasyon (Tümü)</option>
                        <option value="true">Var</option>
                        <option value="false">Yok</option>
                    </select>
                    <button class="btn-primary" onclick="applyProductFilters()"><i class="fas fa-filter"></i> Filtrele</button>
                    <button class="btn-secondary" onclick="clearProductFilters()"><i class="fas fa-eraser"></i></button>
                </div>
            </div>
            <div class="products-grid">
                <div class="product-stats">
                    <div class="stat-card"><div class="stat-icon products"><i class="fas fa-box"></i></div><div class="stat-info"><h3 id="totalProductsCount">-</h3><p>Toplam Ürün</p></div></div>
                    <div class="stat-card"><div class="stat-icon" style="background: linear-gradient(135deg, #4facfe, #00f2fe);"><i class="fas fa-layer-group"></i></div><div class="stat-info"><h3 id="totalVariationsCount">-</h3><p>Varyasyonlu Ürün</p></div></div>
                    <div class="stat-card"><div class="stat-icon" style="background: linear-gradient(135deg, #43e97b, #38f9d7);"><i class="fas fa-warehouse"></i></div><div class="stat-info"><h3 id="lowStockCount">-</h3><p>Düşük Stok</p></div></div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>ID</th><th>Ürün Adı</th><th>Kategori</th><th>Fiyat</th><th>Stok</th><th>Varyasyon</th><th>Son Güncelleme</th><th>İşlemler</th></tr></thead>
                        <tbody id="productsTableBody"><tr><td colspan="8" class="loading">Yükleniyor...</td></tr></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="modal hidden" id="productModal"><div class="modal-content"><div class="modal-header"><h3>Ürün</h3><button class="modal-close" onclick="closeModal('productModal')"><i class="fas fa-times"></i></button></div><div class="modal-body"><form id="productForm"><div class="form-row"><div class="form-group"><label>Ad *</label><input type="text" id="productName" required></div><div class="form-group"><label>Fiyat *</label><input type="text" id="productPrice" placeholder="örn. 199.90" required></div></div><div class="form-row"><div class="form-group"><label>Kategori</label><select id="productCategory"><option value="">Seçiniz</option></select></div><div class="form-group"><label>Stok</label><input type="number" id="productStock" step="1"></div></div><div class="form-row"><div class="form-group"><label>KDV Oranı</label><select id="productTaxRate"><option value="0">0%</option><option value="1">1%</option><option value="10">10%</option><option value="20">20%</option></select></div><div class="form-group"><label>KDV Durumu</label><select id="productPriceIncludesTax"><option value="false">KDV Hariç</option><option value="true">KDV Dahil</option></select></div></div><div class="form-group"><label>Marka</label><input type="text" id="productBrand"></div><div class="form-group"><label>Görsel URL</label><input type="text" id="productImage"></div><div class="form-group"><label>Açıklama</label><textarea id="productDescription" rows="3"></textarea></div><div class="form-actions"><button type="button" class="btn-secondary" onclick="closeModal('productModal')">İptal</button><button type="submit" class="btn-primary">Kaydet</button></div></form></div></div></div>

    <div class="modal hidden" id="syncLogModal"><div class="modal-content"><div class="modal-header"><h3>Son Senkronlar</h3><button class="modal-close" onclick="closeModal('syncLogModal')"><i class="fas fa-times"></i></button></div><div class="modal-body"><div id="syncLogsContainer"><div class="loading">Yükleniyor...</div></div></div></div></div>

    <script src="../script.js?v=remote-2025"></script>
    <script>
        document.getElementById('sidebarToggle').addEventListener('click', function() { document.getElementById('sidebar').classList.toggle('collapsed'); });
        if (typeof refreshProducts === 'function') { refreshProducts(); }
    </script>
</body>
</html>


